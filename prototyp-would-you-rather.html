
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Would You Rather</title>
  <style>
    * {
      box-sizing: border-box;
    }
    html {
      height: 100%;
    }
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    #game {
      display: flex;
      gap: 1rem;
      flex-grow: 100000;
    }
    @media (orientation: portrait) {
      #game {
        flex-direction: column;
      }
    }
    .option {
      flex: 1 1 0px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px 40px;
      font-size: 1.4em;
      cursor: pointer;
      background-color: #f0f0f0;
      /* border: 2px solid #ccc; */
      border-radius: 10px;
      color: #fff;
      font-weight: bold;
    }
    .option[data-color=pink] {
      background: radial-gradient(146% 141% at 100% 0%, color(display-p3 1 0.35 0.2), color(display-p3 1 0 0.36));
    }
    .option[data-color=blue] {
      background: radial-gradient(146% 141% at 0% 100%, color(display-p3 0.01 0.67 1), color(display-p3 0.01 0.29 1));
    }
    .option[data-color=green] {
      background: radial-gradient(146% 141% at 100% 100%, color(display-p3 0.2 0.9 0.4), color(display-p3 0.05 0.6 0.2));
    }
    .option[data-color=orange] {
      background: radial-gradient(146% 141% at 0% 0%, color(display-p3 1 0.6 0.2), color(display-p3 1 0.4 0));
    }
    .option[data-color=purple] {
      background: radial-gradient(146% 141% at 100% 50%, color(display-p3 0.6 0.2 1), color(display-p3 0.4 0 0.8));
    }
    .option[data-color=teal] {
      background: radial-gradient(146% 141% at 0% 50%, color(display-p3 0.2 0.8 0.7), color(display-p3 0 0.5 0.5));
    }
    .option:hover {
      background-color: #e0e0e0;
    }
    #winner {
      font-size: 1.5em;
      margin-top: 40px;
      color: green;
    }
  </style>
</head>
<body>

  <h1>W√ºrdest du eher</h1>
  <div id="game">
    <div id="left" class="option" data-color="pink"></div>
    <div id="right" class="option" data-color="blue"></div>
  </div>
  <div id="winner"></div>

  <script>
    const activities = [
      "Gras ber√ºhren",
      "ein Brettspiel spielen",
      "ein Computerspiel spielen",
      "ein Buch lesen",
      "einen Film anschauen",
      "Spazieren gehen",
      "ein Nickerchen machen"
    ];

    let currentIndex = 2;
    let currentWinner = activities[0];
    let currentChallenger = activities[1];

    const leftBtn = document.getElementById("left");
    const rightBtn = document.getElementById("right");
    const winnerDiv = document.getElementById("winner");


    const possibleColors = ["green", "orange", "purple", "teal", ]
    const inUseColors = ["pink", "blue"]

    function changeColorToSomeThingNew(button) {
      // Remove the current color from inUseColors
      const prevColor = button.getAttribute("data-color");
      // Pick a random color that's not inUseColors
      const newColor = possibleColors[Math.floor(Math.random() * possibleColors.length)];
      // Update inUseColors
      inUseColors[inUseColors.indexOf(prevColor)] = newColor;
      possibleColors[possibleColors.indexOf(newColor)] = prevColor
      button.setAttribute("data-color", newColor);

    }


    function updateOptions(init) {
      if(init) {
        leftBtn.textContent = currentWinner;
        rightBtn.textContent = currentChallenger;
        return;
      }

      if(leftBtn.textContent != currentWinner) {
        leftBtn.textContent = currentChallenger;
        changeColorToSomeThingNew(leftBtn)
      }
      if(rightBtn.textContent != currentWinner) {
        rightBtn.textContent = currentChallenger;
        changeColorToSomeThingNew(rightBtn)
      }
    }

    function handleChoice(choice) {
      currentWinner = choice;
      if (currentIndex < activities.length) {
        currentChallenger = activities[currentIndex];
        currentIndex++;
        updateOptions();
      } else {
        document.getElementById("game").style.display = "none";
        winnerDiv.textContent = `üèÜ Du m√∂chtest ${currentWinner}`;
      }
    }

    leftBtn.addEventListener("click", () => handleChoice(leftBtn.innerText));
    rightBtn.addEventListener("click", () => handleChoice(rightBtn.innerText));

    updateOptions(true);
  </script>

</body>
</html>
